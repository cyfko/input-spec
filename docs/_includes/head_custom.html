<!-- Mermaid.js support -->
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  mermaid.initialize({
    startOnLoad: true,
    theme: document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default',
    securityLevel: 'loose'
  });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll('pre > code.language-mermaid').forEach(code => {
    const pre = code.parentElement;
    const wrapper = document.createElement('div');
    wrapper.className = 'mermaid';
    wrapper.textContent = code.textContent;
    pre.replaceWith(wrapper);
  });
  mermaid.run();
});
</script>
